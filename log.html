<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>things by me on the internet</title>
    <link rel="stylesheet" href="/assets/css/log.css" />
    <script src="/assets/log.js" type="text/javascript"></script>
    <script>
      function embed(e, o) {
        e.innerHTML = '&#x25B4;';
        e.setAttribute('onclick', 'debed(this,' + JSON.stringify(o) + ')');
        var p = e.parentElement,
          out = '';
        if (o.type == 'img') out = '<img class="embedee" src="' + o.src + '">';
        if (o.type == 'youtube')
          out =
            '<iframe class="embedee" src="https://www.youtube.com/embed/' +
            o.src +
            '" frameborder="0" allowfullscreen></iframe>';
        if (o.type == 'video')
          out =
            '<video class="embedee" controls ' +
            (o.loop ? 'loop autoplay' : '') +
            '><source src="' +
            o.src +
            '">yr browser doesnt support video tags</video>';
        if (o.type == 'bandcamp')
          out = `<iframe class="embedee" style="border:0;width:100%;height:120px;" src="https://bandcamp.com/EmbeddedPlayer/album=${
            o.src
          }/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=false/artwork=small${
            o.track != [][[]] ? '/track=' + o.track : ''
          }/transparent=true/" seamless></iframe>`;
        if (o.type == 'bandcamp-single')
          out = `<iframe class="embedee" style="border:0;width:100%;height:120px;" src="https://bandcamp.com/EmbeddedPlayer/track=${o.src}/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=false/artwork=small/transparent=true/" seamless></iframe>`;
        if (o.type == 'podbean')
          out = `<iframe class="embedee" allowtransparency="true" style="border:0;height:150px;min-width:430px;width:100%;" scrolling="no" data-name="pb-iframe-player" src="https://www.podbean.com/player-v2/?from=embed&i=${o.src}-pb&share=1&download=1&fonts=Arial&skin=1&font-color=&rtl=0&logo_link=&btn-skin=7&size=150"></iframe>`;
        if (o.type == 'anchor')
          out = `<iframe class="embedee" style="border:0;height:98px;max-width:700px;width:100%;" src="https://anchor.fm/-/embed/episodes/${o.src}" frameborder="0" scrolling="no"></iframe>`;
        if (o.type == 'soundcloud')
          out = `<iframe class="embedee" width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${o.src}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>`;
        p.insertAdjacentHTML('beforeend', out);
      }
      function debed(e, o) {
        e.innerHTML = '&#x25BE;';
        e.setAttribute('onclick', 'embed(this,' + JSON.stringify(o) + ')');
        var p = e.parentElement;
        p.removeChild(p.getElementsByClassName('embedee')[0]);
      }
    </script>
  </head>
  <body>
    things by me on the internet<br />
    <br />
    <div id="list"></div>
    <script>
      fetch('/assets/log.json')
        .then(response => response.json())
        .then(json => render(json, document.getElementById('list')));
    </script>
  </body>
</html>
